{"version":3,"file":"static/js/324.ca0e8005.chunk.js","mappings":"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","sources":["components/styleComponents/Dialog.js","components/pages/UserListing.js"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Dialog = ({ open, message, onClose, deleteHandler }) => {\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <DialogContainer>\r\n      <DialogWrapper>\r\n        <h3>{message}</h3>\r\n        <ButtonDiv>\r\n          <YesButton onClick={deleteHandler}>Yes</YesButton>\r\n          <NoButton onClick={onClose}>No</NoButton>\r\n        </ButtonDiv>\r\n      </DialogWrapper>\r\n    </DialogContainer>\r\n  );\r\n};\r\n\r\n// dialog style\r\nconst DialogContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n`;\r\n\r\nconst DialogWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  padding: 50px;\r\n\r\n  h3 {\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nconst ButtonDiv = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst YesButton = styled.button`\r\n  border: 1px solid;\r\n  padding: 7px 20px;\r\n  border-radius: 10px;\r\n  transition: background 0.4s ease-in-out;\r\n  background-color: #000;\r\n  color: #f5f5f3;\r\n  cursor: pointer;\r\n\r\n  :hover {\r\n    background-color: #9cc2c5;\r\n  }\r\n`;\r\n\r\nconst NoButton = styled.button`\r\n  border: 1px solid;\r\n  padding: 7px 20px;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n`;\r\nexport default Dialog;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { CurrentUserListingContext } from \"../context/CurrentUserListingContext\";\r\nimport { FiEdit } from \"react-icons/fi\";\r\nimport { MdDelete } from \"react-icons/md\";\r\nimport { Circles } from \"react-loader-spinner\";\r\nimport Dialog from \"../styleComponents/Dialog\";\r\nimport { scrollToTop } from \"../utils\";\r\nimport { useUser } from \"../hooks/useUser\";\r\n\r\nconst UserListing = () => {\r\n  // getting informations from user listing context\r\n  const { userListing, setUserListing, deleteHandler, loading, setLoading } =\r\n    useContext(CurrentUserListingContext);\r\n\r\n  // // get information about current user from useUser hook\r\n  const { _id: currentUserId } = useUser();\r\n\r\n  // state for search bar\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  // state for opening the delete dialog\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n\r\n  // getting the value of the search and put it in the search state\r\n  const searchProduct = (event) => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  // fetch user listing from database\r\n  useEffect(() => {\r\n    // function that handle the fetch of all user listing\r\n    const getUserListing = async () => {\r\n      setLoading(true);\r\n\r\n      if (currentUserId) {\r\n        const response = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/renter-listing/${currentUserId}`\r\n        );\r\n\r\n        // parse the response received\r\n        const responseJson = await response.json();\r\n\r\n        if (responseJson) {\r\n          setUserListing(responseJson.data);\r\n          setLoading(false);\r\n        }\r\n      } else {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    getUserListing();\r\n  }, []);\r\n\r\n  return (\r\n    <UserListingContainerPage>\r\n      <UserListingContainer>\r\n        <Title>Your Listing</Title>\r\n        <SearchBar>\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Search for a listing title\"\r\n            value={search}\r\n            onChange={searchProduct}\r\n          />\r\n        </SearchBar>\r\n        <ListingContainer>\r\n          {loading ? (\r\n            <Circles\r\n              height=\"80\"\r\n              width=\"80\"\r\n              color=\"#252627\"\r\n              ariaLabel=\"circles-loading\"\r\n              wrapperClass=\"spinner\"\r\n              visible={true}\r\n            />\r\n          ) : (\r\n            <>\r\n              <ListingNav>\r\n                <h3>Product & Title</h3>\r\n                <h3>Category</h3>\r\n                <h3>Subcategory</h3>\r\n                <h3>IsBooked</h3>\r\n              </ListingNav>\r\n              {userListing &&\r\n                userListing\r\n                  .filter((product) => {\r\n                    if (search === \"\") {\r\n                      return product;\r\n                    } else if (\r\n                      product.name.toLowerCase().includes(search.toLowerCase())\r\n                    ) {\r\n                      return product;\r\n                    }\r\n                  })\r\n                  .map((listing) => {\r\n                    return (\r\n                      <ListingInfoContainer key={listing._id}>\r\n                        <NavLink\r\n                          to={`/listing/${listing._id}`}\r\n                          className=\"navLink\"\r\n                        >\r\n                          <Listing>\r\n                            <Product>\r\n                              <h1>{listing.name.slice(0, 17)}..</h1>\r\n\r\n                              <img\r\n                                src={listing.imageSrc[0]}\r\n                                alt=\"Mountain Bike\"\r\n                              />\r\n                            </Product>\r\n                            <div>{listing.category}</div>\r\n                            <div>{listing.subcategory}</div>\r\n                            <div>{listing.isBooked.toString()}</div>\r\n                          </Listing>\r\n                        </NavLink>\r\n                        <Icon>\r\n                          <NavLink\r\n                            to={`/userlisting/edit/${listing._id}`}\r\n                            className=\"navLink\"\r\n                          >\r\n                            <FiEdit\r\n                              onClick={() => {\r\n                                scrollToTop();\r\n                              }}\r\n                            />\r\n                          </NavLink>\r\n                          <MdDelete\r\n                            onClick={() => {\r\n                              setOpenDialog(true);\r\n                            }}\r\n                          />\r\n                        </Icon>\r\n                        {openDialog && (\r\n                          <Dialog\r\n                            message=\"Are you sure that you want to delete this listing?\"\r\n                            open={openDialog}\r\n                            onClose={() => setOpenDialog(false)}\r\n                            deleteHandler={() => {\r\n                              deleteHandler(listing._id);\r\n                              setOpenDialog(false);\r\n                            }}\r\n                          />\r\n                        )}\r\n                      </ListingInfoContainer>\r\n                    );\r\n                  })}\r\n            </>\r\n          )}\r\n        </ListingContainer>\r\n      </UserListingContainer>\r\n    </UserListingContainerPage>\r\n  );\r\n};\r\n\r\n// user listing style\r\nconst UserListingContainerPage = styled.div`\r\n  min-height: 100vh;\r\n  background-color: #f5f5f3;\r\n  padding-bottom: 200px;\r\n`;\r\n\r\nconst UserListingContainer = styled.div`\r\n  max-width: 1300px;\r\n  margin: 0 auto;\r\n\r\n  .navLink {\r\n    text-decoration: none;\r\n    color: #242526;\r\n  }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 40px;\r\n  font-weight: 500;\r\n  padding: 15px 20px;\r\n`;\r\n\r\nconst SearchBar = styled.div`\r\n  height: 70px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 30px 0;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 10px 15px;\r\n  width: 40%;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  border: 1px solid;\r\n  font-size: 16px;\r\n  position: relative;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst ListingContainer = styled.div`\r\n  height: 100%;\r\n  width: 80%;\r\n  margin: 50px auto;\r\n\r\n  .spinner {\r\n    margin-top: 30px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  @media screen and (max-width: 700px) {\r\n    width: 85%;\r\n  }\r\n`;\r\n\r\nconst ListingInfoContainer = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst Listing = styled.div`\r\n  height: 200px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\r\n  margin: 20px 0;\r\n  border-radius: 13px;\r\n  position: relative;\r\n  border: 1px solid;\r\n\r\n  div {\r\n    width: 250px;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nconst ListingNav = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n\r\n  h3 {\r\n    font-weight: 700;\r\n  }\r\n`;\r\n\r\nconst Product = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n\r\n  h1 {\r\n    font-size: 17px;\r\n    font-weight: 500;\r\n    text-align: center;\r\n  }\r\n\r\n  img {\r\n    width: 140px;\r\n    height: 140px;\r\n    border-radius: 10px;\r\n    object-fit: cover;\r\n\r\n    @media screen and (max-width: 700px) {\r\n      width: 100px;\r\n      height: 100px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  position: absolute;\r\n  right: 7px;\r\n  top: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 12px 0;\r\n  height: 100%;\r\n  font-size: 30px;\r\n  cursor: pointer;\r\n`;\r\nexport default UserListing;\r\n"],"names":["DialogContainer","styled","DialogWrapper","ButtonDiv","YesButton","NoButton","open","message","onClose","deleteHandler","onClick","UserListingContainerPage","UserListingContainer","Title","SearchBar","Input","ListingContainer","ListingInfoContainer","Listing","ListingNav","Product","Icon","useContext","CurrentUserListingContext","userListing","setUserListing","loading","setLoading","currentUserId","useUser","_id","useState","search","setSearch","openDialog","setOpenDialog","useEffect","getUserListing","fetch","process","response","json","responseJson","data","type","placeholder","value","onChange","event","target","height","width","color","ariaLabel","wrapperClass","visible","filter","product","name","toLowerCase","includes","map","listing","to","className","slice","src","imageSrc","alt","category","subcategory","isBooked","toString","scrollToTop"],"sourceRoot":""}