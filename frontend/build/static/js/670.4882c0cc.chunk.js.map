{"version":3,"file":"static/js/670.4882c0cc.chunk.js","mappings":"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","sources":["components/Item.js","components/pages/SubCategory.js"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { scrollToTop } from \"./utils\";\r\n\r\n// Item (single listing) component\r\nconst Item = ({ listing, renters }) => {\r\n  return (\r\n    <ListingWrapper>\r\n      <NavLink\r\n        to={`/listing/${listing._id}`}\r\n        className=\"navLink\"\r\n        onClick={scrollToTop}\r\n      >\r\n        <ListingMain>\r\n          <Img src={listing.imageSrc[0]} alt={listing.name} />\r\n          <Price>${listing.price}/Day</Price>\r\n          <ListingName>{listing.name}</ListingName>\r\n        </ListingMain>\r\n      </NavLink>\r\n      {renters.map((renter) => {\r\n        if (renter._id === listing.renterId) {\r\n          return (\r\n            <NavLink\r\n              to={`/renter/${renter._id}`}\r\n              className=\"navLink\"\r\n              key={renter._id}\r\n            >\r\n              <ListingRenterInfo>\r\n                <img src={renter.picture} alt=\"Renter photo\" />\r\n                <p>{renter.username}</p>\r\n              </ListingRenterInfo>\r\n            </NavLink>\r\n          );\r\n        }\r\n      })}\r\n    </ListingWrapper>\r\n  );\r\n};\r\n\r\n// listing style\r\nconst ListingWrapper = styled.div`\r\n  width: 290px;\r\n  height: 320px;\r\n  border-radius: 25px;\r\n  position: relative;\r\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\r\n\r\n  .navLink {\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst ListingMain = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 100%;\r\n  height: 245px;\r\n  border-radius: 25px 25px 0 0;\r\n`;\r\n\r\nconst Price = styled.div`\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 0px;\r\n  padding: 5px 8px;\r\n  background-color: #fff;\r\n  color: #242526;\r\n  font-weight: 500;\r\n  border-radius: 0 25px 0 25px;\r\n`;\r\n\r\nconst ListingName = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  color: #fff;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  text-transform: capitalize;\r\n  padding: 0 0 13px 10px;\r\n`;\r\n\r\nconst ListingRenterInfo = styled.div`\r\n  background-color: #fff;\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 24%;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding-left: 10px;\r\n  border-radius: 0 0 25px 25px;\r\n\r\n  img {\r\n    width: 37px;\r\n    height: 37px;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  p {\r\n    font-weight: 500;\r\n    text-transform: capitalize;\r\n    color: #242526;\r\n    font-size: 17px;\r\n  }\r\n`;\r\nexport default Item;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { NavLink, useParams } from \"react-router-dom\";\r\nimport Slider from \"@mui/material/Slider\";\r\nimport Item from \"../Item\";\r\nimport { scrollToTop } from \"../utils\";\r\nimport LoadingSpinner from \"../styleComponents/LoadingSpinner\";\r\n\r\nconst SubCategory = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [listings, setListings] = useState([]);\r\n  const [updatedListing, setUpdatedListing] = useState([]);\r\n  const [renters, setRenters] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [price, setPrice] = useState([0, 400]);\r\n\r\n  const { id } = useParams();\r\n\r\n  // getting the value of the search and put it in the search state\r\n  const searchProduct = (event) => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  // fetching data by subcategory\r\n  useEffect(() => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      // function that handle the fetch of data from our db\r\n      const fechingDataHandler = async () => {\r\n        const fetchAllListingByCategory = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/listings/category/${id}`\r\n        );\r\n\r\n        // parse the response\r\n        const responseJson = await fetchAllListingByCategory.json();\r\n\r\n        // fetch all renters for this specific subcategory\r\n        const fetchAllRenters = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/users`\r\n        );\r\n\r\n        // parse the response\r\n        const responseJsonRenters = await fetchAllRenters.json();\r\n\r\n        if (responseJson.data && responseJsonRenters.data) {\r\n          setListings(responseJson.data);\r\n\r\n          setRenters(responseJsonRenters.data);\r\n\r\n          setUpdatedListing(responseJson.data);\r\n\r\n          setLoading(false);\r\n        } else {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      fechingDataHandler();\r\n    } catch (error) {\r\n      console.log(error.stack);\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  // handle price change\r\n  const rangeSelector = (event, newValue) => {\r\n    setPrice(newValue);\r\n  };\r\n\r\n  // filter data by price\r\n  const filterDataByPrice = () => {\r\n    let listingsCopy = listings;\r\n\r\n    const minPrice = price[0];\r\n    const maxPrice = price[1];\r\n\r\n    listingsCopy = listingsCopy.filter(\r\n      (listing) =>\r\n        Number(listing.price) >= minPrice && Number(listing.price) <= maxPrice\r\n    );\r\n\r\n    setUpdatedListing(listingsCopy);\r\n  };\r\n\r\n  // calling the filter function when price change\r\n  useEffect(() => {\r\n    filterDataByPrice();\r\n  }, [price]);\r\n\r\n  return (\r\n    <AllListingContainer>\r\n      {loading ? (\r\n        <LoadingSpinner />\r\n      ) : (\r\n        <>\r\n          <AllListingWrapper>\r\n            <FilterSide>\r\n              <NavLink\r\n                to=\"/categories\"\r\n                className=\"sideBarNavLink\"\r\n                onClick={scrollToTop}\r\n              >\r\n                <h3>All Caterories</h3>\r\n              </NavLink>\r\n              <CategoriesFilter>\r\n                <NavLink\r\n                  to=\"/category/surf\"\r\n                  className=\"sideBarNavLink\"\r\n                  onClick={scrollToTop}\r\n                >\r\n                  SURF\r\n                </NavLink>\r\n                <Subcategory>\r\n                  <NavLink\r\n                    to=\"/category/surf/Standup paddleboard\"\r\n                    className=\"sideBarNavLink\"\r\n                    onClick={scrollToTop}\r\n                  >\r\n                    Standup paddleboard\r\n                  </NavLink>\r\n                  <NavLink\r\n                    to=\"/category/surf/kayak and canoe\"\r\n                    className=\"sideBarNavLink\"\r\n                    onClick={scrollToTop}\r\n                  >\r\n                    kayak and canoe\r\n                  </NavLink>\r\n                </Subcategory>\r\n                <NavLink\r\n                  to=\"/category/bike\"\r\n                  className=\"sideBarNavLink\"\r\n                  onClick={scrollToTop}\r\n                >\r\n                  BIKE\r\n                </NavLink>\r\n                <Subcategory>\r\n                  <NavLink\r\n                    to=\"/category/surf/Mountain bike\"\r\n                    className=\"sideBarNavLink\"\r\n                    onClick={scrollToTop}\r\n                  >\r\n                    Mountain bike\r\n                  </NavLink>\r\n                  <NavLink\r\n                    to=\"/category/surf/Road bike\"\r\n                    className=\"sideBarNavLink\"\r\n                    onClick={scrollToTop}\r\n                  >\r\n                    Road bike\r\n                  </NavLink>\r\n                </Subcategory>\r\n                <NavLink\r\n                  to=\"/category/snow\"\r\n                  className=\"sideBarNavLink\"\r\n                  onClick={scrollToTop}\r\n                >\r\n                  SNOW\r\n                </NavLink>\r\n                <Subcategory>\r\n                  <NavLink\r\n                    to=\"/category/surf/Snowboard\"\r\n                    className=\"sideBarNavLink\"\r\n                    onClick={scrollToTop}\r\n                  >\r\n                    Snowboard\r\n                  </NavLink>\r\n                  <NavLink\r\n                    to=\"/category/surf/Snow accessories\"\r\n                    className=\"sideBarNavLink\"\r\n                    onClick={scrollToTop}\r\n                  >\r\n                    Snow accessories\r\n                  </NavLink>\r\n                </Subcategory>\r\n                <PriceFilter>\r\n                  <h3>Price</h3>\r\n\r\n                  <Slider\r\n                    value={price}\r\n                    onChange={rangeSelector}\r\n                    valueLabelDisplay=\"auto\"\r\n                    min={0}\r\n                    max={400}\r\n                  />\r\n                  <PriceRange>\r\n                    <h5>Min: ${price[0]}</h5>\r\n                    <h5>Max: ${price[1]}</h5>\r\n                  </PriceRange>\r\n                </PriceFilter>\r\n              </CategoriesFilter>\r\n            </FilterSide>\r\n            <ListingContainer>\r\n              <SearchBar>\r\n                <Input\r\n                  type=\"text\"\r\n                  placeholder=\"Search for a listing title\"\r\n                  value={search}\r\n                  onChange={searchProduct}\r\n                />\r\n              </SearchBar>\r\n              <ListingGrid>\r\n                {listings &&\r\n                  renters &&\r\n                  updatedListing &&\r\n                  updatedListing\r\n                    .filter((product) => {\r\n                      if (search === \"\") {\r\n                        return product;\r\n                      } else if (\r\n                        product.name\r\n                          .toLowerCase()\r\n                          .includes(search.toLowerCase())\r\n                      ) {\r\n                        return product;\r\n                      }\r\n                    })\r\n                    .map((listing) => {\r\n                      return (\r\n                        <Item\r\n                          listing={listing}\r\n                          renters={renters}\r\n                          key={listing._id}\r\n                        />\r\n                      );\r\n                    })}\r\n              </ListingGrid>\r\n            </ListingContainer>\r\n          </AllListingWrapper>\r\n        </>\r\n      )}\r\n    </AllListingContainer>\r\n  );\r\n};\r\n\r\n// sub category page style\r\nconst AllListingWrapper = styled.div`\r\n  display: flex;\r\n  max-width: 1300px;\r\n  margin: 0 auto;\r\n\r\n  .navLink {\r\n    text-decoration: none;\r\n    color: black;\r\n    opacity: 1;\r\n  }\r\n\r\n  @media screen and (max-width: 700px) {\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n`;\r\nconst AllListingContainer = styled.div`\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst SearchBar = styled.div`\r\n  height: 70px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n  position: relative;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 10px 15px;\r\n  width: 40%;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  border: 1px solid;\r\n  font-size: 16px;\r\n  position: relative;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst FilterSide = styled.div`\r\n  flex: 0.2;\r\n  padding-left: 19px;\r\n  padding-top: 15px;\r\n\r\n  animation-name: moveTitleFromLeft;\r\n  animation-duration: 1s;\r\n  animation-timing-function: ease-out;\r\n\r\n  h3 {\r\n    padding-bottom: 10px;\r\n  }\r\n\r\n  .sideBarNavLink {\r\n    opacity: 1;\r\n    text-decoration: none;\r\n    color: black;\r\n    transition: 0.2s ease-in-out;\r\n  }\r\n\r\n  .sideBarNavLink:hover {\r\n    color: red;\r\n    opacity: 0.3;\r\n  }\r\n\r\n  @media screen and (max-width: 700px) {\r\n    align-items: center;\r\n    width: 80%;\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nconst ListingGrid = styled.div`\r\n  max-width: 96%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 15px;\r\n\r\n  animation-name: slideInUp;\r\n  animation-duration: 1s;\r\n  animation-timing-function: ease-out;\r\n`;\r\n\r\nconst ListingContainer = styled.div`\r\n  flex: 0.8;\r\n  margin: 50px auto;\r\n`;\r\n\r\nconst CategoriesFilter = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n`;\r\n\r\nconst Subcategory = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n  padding-left: 10px;\r\n`;\r\n\r\nconst PriceRange = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst PriceFilter = styled.div`\r\n  width: 80%;\r\n`;\r\nexport default SubCategory;\r\n"],"names":["ListingWrapper","styled","ListingMain","Img","Price","ListingName","ListingRenterInfo","listing","renters","to","_id","className","onClick","scrollToTop","src","imageSrc","alt","name","price","map","renter","renterId","picture","username","AllListingWrapper","AllListingContainer","SearchBar","Input","FilterSide","ListingGrid","ListingContainer","CategoriesFilter","Subcategory","PriceRange","PriceFilter","useState","loading","setLoading","listings","setListings","updatedListing","setUpdatedListing","setRenters","search","setSearch","setPrice","id","useParams","useEffect","fechingDataHandler","fetch","process","fetchAllListingByCategory","json","responseJson","fetchAllRenters","responseJsonRenters","data","error","console","log","stack","listingsCopy","minPrice","maxPrice","filter","Number","filterDataByPrice","value","onChange","event","newValue","valueLabelDisplay","min","max","type","placeholder","target","product","toLowerCase","includes"],"sourceRoot":""}