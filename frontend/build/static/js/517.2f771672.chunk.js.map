{"version":3,"file":"static/js/517.2f771672.chunk.js","mappings":"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","sources":["components/Item.js","components/pages/Category.js"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { scrollToTop } from \"./utils\";\r\n\r\n// Item (single listing) component\r\nconst Item = ({ listing, renters }) => {\r\n  return (\r\n    <ListingWrapper>\r\n      <NavLink\r\n        to={`/listing/${listing._id}`}\r\n        className=\"navLink\"\r\n        onClick={scrollToTop}\r\n      >\r\n        <ListingMain>\r\n          <Img src={listing.imageSrc[0]} alt={listing.name} />\r\n          <Price>${listing.price}/Day</Price>\r\n          <ListingName>{listing.name}</ListingName>\r\n        </ListingMain>\r\n      </NavLink>\r\n      {renters.map((renter) => {\r\n        if (renter._id === listing.renterId) {\r\n          return (\r\n            <NavLink\r\n              to={`/renter/${renter._id}`}\r\n              className=\"navLink\"\r\n              key={renter._id}\r\n            >\r\n              <ListingRenterInfo>\r\n                <img src={renter.picture} alt=\"Renter photo\" />\r\n                <p>{renter.username}</p>\r\n              </ListingRenterInfo>\r\n            </NavLink>\r\n          );\r\n        }\r\n      })}\r\n    </ListingWrapper>\r\n  );\r\n};\r\n\r\n// listing style\r\nconst ListingWrapper = styled.div`\r\n  width: 290px;\r\n  height: 320px;\r\n  border-radius: 25px;\r\n  position: relative;\r\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\r\n\r\n  .navLink {\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst ListingMain = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 100%;\r\n  height: 245px;\r\n  border-radius: 25px 25px 0 0;\r\n`;\r\n\r\nconst Price = styled.div`\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 0px;\r\n  padding: 5px 8px;\r\n  background-color: #fff;\r\n  color: #242526;\r\n  font-weight: 500;\r\n  border-radius: 0 25px 0 25px;\r\n`;\r\n\r\nconst ListingName = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  color: #fff;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  text-transform: capitalize;\r\n  padding: 0 0 13px 10px;\r\n`;\r\n\r\nconst ListingRenterInfo = styled.div`\r\n  background-color: #fff;\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 24%;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding-left: 10px;\r\n  border-radius: 0 0 25px 25px;\r\n\r\n  img {\r\n    width: 37px;\r\n    height: 37px;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  p {\r\n    font-weight: 500;\r\n    text-transform: capitalize;\r\n    color: #242526;\r\n    font-size: 17px;\r\n  }\r\n`;\r\nexport default Item;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { NavLink, useParams } from \"react-router-dom\";\r\nimport Slider from \"@mui/material/Slider\";\r\nimport Item from \"../Item\";\r\nimport surf1 from \"../../assets/surf1.jpg\";\r\nimport snow from \"../../assets/snow.jpg\";\r\nimport bike from \"../../assets/bike.jpg\";\r\nimport LoadingSpinner from \"../styleComponents/LoadingSpinner\";\r\n\r\nconst Category = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [listings, setListings] = useState([]);\r\n  const [updatedListing, setUpdatedListing] = useState([]);\r\n  const [renters, setRenters] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [price, setPrice] = useState([0, 400]);\r\n\r\n  // take the category id from the url params\r\n  const { id } = useParams();\r\n\r\n  // getting the value of the search and put it in the search state\r\n  const searchProduct = (event) => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  // fetching data by category\r\n  useEffect(() => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      // function that handle the fetch of data\r\n      const fechingDataHandler = async () => {\r\n        // fetch all listing by category\r\n        const fetchAllListingByCategory = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/listings/${id}`\r\n        );\r\n\r\n        // parse the response\r\n        const responseJson = await fetchAllListingByCategory.json();\r\n\r\n        // fetch all renters\r\n        const fetchAllRenters = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/users`\r\n        );\r\n\r\n        // parse the response\r\n        const responseJsonRenters = await fetchAllRenters.json();\r\n\r\n        if (\r\n          responseJson.data.length > 0 &&\r\n          responseJsonRenters.data.length > 0\r\n        ) {\r\n          // update our states with data received\r\n\r\n          setListings(responseJson.data);\r\n\r\n          setRenters(responseJsonRenters.data);\r\n\r\n          setUpdatedListing(responseJson.data);\r\n\r\n          setLoading(false);\r\n        } else {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      fechingDataHandler();\r\n    } catch (error) {\r\n      console.log(error.stack);\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  // handle price change\r\n  const rangeSelector = (event, newValue) => {\r\n    setPrice(newValue);\r\n  };\r\n\r\n  // filter data by price\r\n  const filterDataByPrice = () => {\r\n    // create a copy of our state\r\n    let listingsCopy = listings;\r\n\r\n    // set the min and max price to the current min and max\r\n    const minPrice = price[0];\r\n    const maxPrice = price[1];\r\n\r\n    // filter the copy to get the price between our range\r\n    listingsCopy = listingsCopy.filter(\r\n      (listing) =>\r\n        Number(listing.price) >= minPrice && Number(listing.price) <= maxPrice\r\n    );\r\n\r\n    // update our state\r\n    setUpdatedListing(listingsCopy);\r\n  };\r\n\r\n  // calling the filter function when price change\r\n  useEffect(() => {\r\n    filterDataByPrice();\r\n  }, [price]);\r\n\r\n  return (\r\n    <CategoryPageContainer>\r\n      {loading ? (\r\n        <LoadingSpinner />\r\n      ) : (\r\n        <>\r\n          <Hero>\r\n            <img\r\n              src={\r\n                id === \"bike\"\r\n                  ? bike\r\n                  : id === \"surf\"\r\n                  ? surf1\r\n                  : id === \"snow\" && snow\r\n              }\r\n              alt=\"bike\"\r\n            />\r\n          </Hero>\r\n          <AllListingContainer>\r\n            <FilterSide>\r\n              <NavLink to=\"/categories\" className=\"sideBarNavLink\">\r\n                <h3>All Caterories</h3>\r\n              </NavLink>\r\n              <CategoriesFilter>\r\n                <NavLink to=\"/category/surf\" className=\"sideBarNavLink\">\r\n                  SURF\r\n                </NavLink>\r\n                <Subcategory>\r\n                  <NavLink\r\n                    to=\"/category/surf/Standup paddleboard\"\r\n                    className=\"sideBarNavLink\"\r\n                  >\r\n                    Standup paddleboard\r\n                  </NavLink>\r\n                  <NavLink\r\n                    to=\"/category/surf/kayak and canoe\"\r\n                    className=\"sideBarNavLink\"\r\n                  >\r\n                    kayak and canoe\r\n                  </NavLink>\r\n                </Subcategory>\r\n                <NavLink to=\"/category/bike\" className=\"sideBarNavLink\">\r\n                  BIKE\r\n                </NavLink>\r\n                <Subcategory>\r\n                  <NavLink\r\n                    to=\"/category/surf/Mountain bike\"\r\n                    className=\"sideBarNavLink\"\r\n                  >\r\n                    Mountain bike\r\n                  </NavLink>\r\n                  <NavLink\r\n                    to=\"/category/surf/Road bike\"\r\n                    className=\"sideBarNavLink\"\r\n                  >\r\n                    Road bike\r\n                  </NavLink>\r\n                </Subcategory>\r\n                <NavLink to=\"/category/snow\" className=\"sideBarNavLink\">\r\n                  SNOW\r\n                </NavLink>\r\n                <Subcategory>\r\n                  <NavLink\r\n                    to=\"/category/surf/Snowboard\"\r\n                    className=\"sideBarNavLink\"\r\n                  >\r\n                    Snowboard\r\n                  </NavLink>\r\n                  <NavLink\r\n                    to=\"/category/surf/Snow accessories\"\r\n                    className=\"sideBarNavLink\"\r\n                  >\r\n                    Snow accessories\r\n                  </NavLink>\r\n                </Subcategory>\r\n                <PriceFilter>\r\n                  <h3>Price</h3>\r\n\r\n                  <Slider\r\n                    value={price}\r\n                    onChange={rangeSelector}\r\n                    valueLabelDisplay=\"auto\"\r\n                    min={0}\r\n                    max={400}\r\n                  />\r\n                  <PriceRange>\r\n                    <h5>Min: ${price[0]}</h5>\r\n                    <h5>Max: ${price[1]}</h5>\r\n                  </PriceRange>\r\n                </PriceFilter>\r\n              </CategoriesFilter>\r\n            </FilterSide>\r\n            <ListingContainer>\r\n              <SearchBar>\r\n                <Input\r\n                  type=\"text\"\r\n                  placeholder=\"Search for a listing title\"\r\n                  value={search}\r\n                  onChange={searchProduct}\r\n                />\r\n              </SearchBar>\r\n              <ListingGrid>\r\n                {listings &&\r\n                  renters &&\r\n                  updatedListing &&\r\n                  updatedListing\r\n                    .filter((product) => {\r\n                      if (search === \"\") {\r\n                        return product;\r\n                      } else if (\r\n                        product.name\r\n                          .toLowerCase()\r\n                          .includes(search.toLowerCase())\r\n                      ) {\r\n                        return product;\r\n                      }\r\n                    })\r\n                    .map((listing) => {\r\n                      return (\r\n                        <Item\r\n                          listing={listing}\r\n                          renters={renters}\r\n                          key={listing._id}\r\n                        />\r\n                      );\r\n                    })}\r\n              </ListingGrid>\r\n            </ListingContainer>\r\n          </AllListingContainer>\r\n        </>\r\n      )}\r\n    </CategoryPageContainer>\r\n  );\r\n};\r\n\r\n// category page style\r\nconst CategoryPageContainer = styled.div`\r\n  min-height: 100vh;\r\n`;\r\nconst AllListingContainer = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n  max-width: 1300px;\r\n  margin: 0 auto;\r\n\r\n  .spinner {\r\n    height: 60vh;\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .navLink {\r\n    text-decoration: none;\r\n    color: black;\r\n    opacity: 1;\r\n  }\r\n\r\n  @media screen and (max-width: 700px) {\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nconst Hero = styled.div`\r\n  height: 300px;\r\n  width: 100%;\r\n\r\n  img {\r\n    object-fit: cover;\r\n    height: 300px;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst SearchBar = styled.div`\r\n  height: 70px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n  position: relative;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 10px 15px;\r\n  width: 40%;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  border: 1px solid;\r\n  font-size: 16px;\r\n  position: relative;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst FilterSide = styled.div`\r\n  flex: 0.2;\r\n\r\n  padding-left: 19px;\r\n  padding-top: 15px;\r\n\r\n  animation-name: moveTitleFromLeft;\r\n  animation-duration: 1s;\r\n  animation-timing-function: ease-out;\r\n\r\n  h3 {\r\n    padding-bottom: 10px;\r\n\r\n    @media screen and (max-width: 700px) {\r\n      text-align: center;\r\n      padding-bottom: 15px;\r\n    }\r\n  }\r\n\r\n  .sideBarNavLink {\r\n    opacity: 1;\r\n    text-decoration: none;\r\n    color: black;\r\n    transition: 0.2s ease-in-out;\r\n  }\r\n\r\n  .sideBarNavLink:hover {\r\n    color: red;\r\n    opacity: 0.3;\r\n  }\r\n`;\r\n\r\nconst ListingGrid = styled.div`\r\n  max-width: 96%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 15px;\r\n\r\n  animation-name: slideInUp;\r\n  animation-duration: 1s;\r\n  animation-timing-function: ease-out;\r\n`;\r\n\r\nconst ListingContainer = styled.div`\r\n  flex: 0.8;\r\n  width: 90%;\r\n  margin: 50px auto;\r\n`;\r\n\r\nconst CategoriesFilter = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n  font-weight: 500;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    align-items: center;\r\n    width: 90%;\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nconst Subcategory = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n  padding-left: 10px;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    align-items: center;\r\n    width: 90%;\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nconst PriceRange = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst PriceFilter = styled.div`\r\n  width: 80%;\r\n`;\r\nexport default Category;\r\n"],"names":["ListingWrapper","styled","ListingMain","Img","Price","ListingName","ListingRenterInfo","listing","renters","to","_id","className","onClick","scrollToTop","src","imageSrc","alt","name","price","map","renter","renterId","picture","username","CategoryPageContainer","AllListingContainer","Hero","SearchBar","Input","FilterSide","ListingGrid","ListingContainer","CategoriesFilter","Subcategory","PriceRange","PriceFilter","useState","loading","setLoading","listings","setListings","updatedListing","setUpdatedListing","setRenters","search","setSearch","setPrice","id","useParams","useEffect","fechingDataHandler","fetch","process","fetchAllListingByCategory","json","responseJson","fetchAllRenters","responseJsonRenters","data","length","error","console","log","stack","listingsCopy","minPrice","maxPrice","filter","Number","filterDataByPrice","LoadingSpinner","bike","surf1","snow","Slider","value","onChange","event","newValue","valueLabelDisplay","min","max","type","placeholder","target","product","toLowerCase","includes","Item"],"sourceRoot":""}