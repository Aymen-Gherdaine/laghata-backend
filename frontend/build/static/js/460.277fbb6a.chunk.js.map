{"version":3,"file":"static/js/460.277fbb6a.chunk.js","mappings":"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","sources":["components/chatSystem/Chat.js","components/styleComponents/Calendar.js","components/Reviews/Review.js","components/Reviews/ReviewForm.js","components/Reviews/Reviews.js","components/pages/Listing.js","components/styleComponents/ImageSlider.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useClickOutside from \"../hooks/useClickOutside\";\r\nimport { BiSend } from \"react-icons/bi\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\n\r\nconst Chat = ({\r\n  picture,\r\n  renterUsername,\r\n  openChat,\r\n  setOpenChat,\r\n  currentUserName,\r\n  currentUserPicture,\r\n  currentUserId,\r\n  renterId,\r\n}) => {\r\n  const [welcomeMsg, setWelcomeMsg] = useState(\"\");\r\n  const {\r\n    currentChatMembers,\r\n    setCurrentChatMembers,\r\n    message,\r\n    setMessage,\r\n    chatConversation,\r\n    setChatConversation,\r\n    notification,\r\n    setNotification,\r\n    socket,\r\n  } = useContext(ChatContext);\r\n\r\n  // using ref to scroll to bottom inside div messages\r\n  const scrollToBottomRef = useRef();\r\n\r\n  // using useRef to prevent useEffect from running twice as it does in version 18\r\n  // without this method it will create a conversation twice each time\r\n  const effectRanOnce = useRef(false);\r\n\r\n  // create new conversation if we don't find one when user open the chat\r\n  useEffect(() => {\r\n    if (effectRanOnce.current === false) {\r\n      const createNewConversationHandler = async () => {\r\n        const requestOptions = {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            senderId: currentUserId,\r\n            receiverId: renterId,\r\n            createAt: Date.now(),\r\n          }),\r\n        };\r\n\r\n        try {\r\n          // post a new conversation between the renter and the current user\r\n          const response = await fetch(\r\n            `${process.env.REACT_APP_BACKEND_URL}/api/conversation`,\r\n            requestOptions\r\n          );\r\n\r\n          // parse the response\r\n          const parseResponse = await response.json();\r\n\r\n          if (parseResponse.status === 201) {\r\n            setCurrentChatMembers(parseResponse.data);\r\n          }\r\n        } catch (error) {\r\n          console.log(error.stack);\r\n        }\r\n      };\r\n      createNewConversationHandler();\r\n\r\n      // cleanup function\r\n      return () => {\r\n        // set the effectRanOnce to true to prevent useEffect from running twice\r\n        effectRanOnce.current = true;\r\n      };\r\n    }\r\n  }, [currentUserId, renterId]);\r\n\r\n  // fetching conversation by user id\r\n  useEffect(() => {\r\n    try {\r\n      // function that handle the fetch from our database\r\n      const fechingConversationHandler = async () => {\r\n        // fetching conversation data by user id\r\n        const fetchConversationByUserId = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/conversation/${currentUserId}`\r\n        );\r\n\r\n        // parse the response\r\n        const responseJson = await fetchConversationByUserId.json();\r\n\r\n        if (responseJson.data.length > 0) {\r\n          const findConversation = responseJson.data.find((conversation) => {\r\n            return (\r\n              (conversation.members[0] === currentUserId &&\r\n                conversation.members[1] === renterId) ||\r\n              (conversation.members[1] === currentUserId &&\r\n                conversation.members[0] === renterId)\r\n            );\r\n          });\r\n\r\n          setCurrentChatMembers(findConversation);\r\n        }\r\n      };\r\n      fechingConversationHandler();\r\n    } catch (error) {\r\n      console.log(error.stack);\r\n    }\r\n  }, []);\r\n\r\n  // first initialisation with the server\r\n  useEffect(() => {\r\n    if (socket) {\r\n      // emiting information details to the server\r\n      socket.emit(\"welcome-message\", { currentUserName, renterUsername });\r\n      socket.emit(\"initialisation-add-user\", currentUserId);\r\n\r\n      // recieving the welcome message from the server and store it in welcome msg state\r\n      socket.on(\"welcome-response\", (message) => {\r\n        setWelcomeMsg(message);\r\n      });\r\n    }\r\n  }, [socket, currentUserName, currentUserId]);\r\n\r\n  // fetch all messages for specific chat\r\n  useEffect(() => {\r\n    // function that handle the fetch of messages\r\n    const chatMessagesHandler = async () => {\r\n      try {\r\n        // fetching messages data by chat id\r\n        const response = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/messages/${currentChatMembers?._id}`\r\n        );\r\n\r\n        // parse the response\r\n        const responseJson = await response.json();\r\n\r\n        if (responseJson.data.length > 0) {\r\n          setChatConversation(responseJson.data);\r\n        }\r\n      } catch (error) {\r\n        console.log(error.stack);\r\n      }\r\n    };\r\n    chatMessagesHandler();\r\n  }, [currentChatMembers]);\r\n\r\n  // receiving new messages from the server\r\n  useEffect(() => {\r\n    if (socket) {\r\n      // getting messege from the server\r\n      socket.on(\"getMessage\", (data) => {\r\n        if (\r\n          currentChatMembers?.members?.includes(data.senderId) === true &&\r\n          currentChatMembers?.members?.includes(data.sendToId) === true\r\n        ) {\r\n          setChatConversation([...chatConversation, data]);\r\n        } else if (!openChat && !notification.includes(data)) {\r\n          setNotification([...notification, data]);\r\n        }\r\n      });\r\n    }\r\n  }, [socket, chatConversation, notification, openChat]);\r\n\r\n  // function that handle the send of messages\r\n  const sendMessageHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const messageinfo = {\r\n      senderId: currentUserId,\r\n      conversationId: currentChatMembers?._id,\r\n      receiverId: renterId,\r\n      text: message,\r\n      createAt: Date.now(),\r\n    };\r\n\r\n    // emit the message to socketio server\r\n    socket.emit(\"sendMessage\", messageinfo);\r\n\r\n    setMessage(\"\");\r\n\r\n    try {\r\n      const requestOptions = {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(messageinfo),\r\n      };\r\n\r\n      // post messages to db\r\n      const response = await fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/message`,\r\n        requestOptions\r\n      );\r\n\r\n      if (response.ok) {\r\n        setChatConversation([...chatConversation, messageinfo]);\r\n      }\r\n    } catch (error) {\r\n      console.log(error.stack);\r\n    }\r\n  };\r\n\r\n  // custom hook to check and close if we click outside the chat\r\n  let ref = useClickOutside(() => {\r\n    setOpenChat(false);\r\n  });\r\n\r\n  // finction to scroll to bottom when reveiving or sending messages\r\n  useEffect(() => {\r\n    scrollToBottomRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [chatConversation]);\r\n\r\n  return (\r\n    <ChatWrapper ref={ref}>\r\n      {openChat && (\r\n        <ChatWindow>\r\n          <ChatDiv>\r\n            {chatConversation.length === 0 && (\r\n              <WelcomMsgDiv>\r\n                <Img src={picture} alt=\"userProfile\" />\r\n                <WelcomeMsg>{welcomeMsg.text}</WelcomeMsg>\r\n              </WelcomMsgDiv>\r\n            )}\r\n            <MsgDiv>\r\n              {chatConversation.map((msg, index) => {\r\n                return (\r\n                  <MessageWrapper key={index} ref={scrollToBottomRef}>\r\n                    {msg.senderId !== currentUserId &&\r\n                    msg.senderId === renterId ? (\r\n                      <RightMsg>\r\n                        <MsgEl key={index}>{msg.text}</MsgEl>\r\n                        <Img src={picture} alt=\"RenterProfile\" />\r\n                      </RightMsg>\r\n                    ) : (\r\n                      msg.senderId === currentUserId &&\r\n                      msg.receiverId === renterId && (\r\n                        <LeftMsg>\r\n                          <Img src={currentUserPicture} alt=\"userProfile\" />\r\n                          <MsgEl>{msg.text}</MsgEl>\r\n                        </LeftMsg>\r\n                      )\r\n                    )}\r\n                  </MessageWrapper>\r\n                );\r\n              })}\r\n            </MsgDiv>\r\n          </ChatDiv>\r\n          <form onSubmit={sendMessageHandler}>\r\n            <Input\r\n              value={message}\r\n              placeholder=\"Message\"\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              onKeyDown={(e) =>\r\n                e.key === \"Enter\" ? sendMessageHandler(e) : null\r\n              }\r\n            />\r\n            <SendButton type=\"submit\">\r\n              <BiSend className=\"sendIcon\" />\r\n            </SendButton>\r\n          </form>\r\n        </ChatWindow>\r\n      )}\r\n      <Button\r\n        onClick={() => {\r\n          // toggle the open and close of the chat\r\n          setOpenChat(!openChat);\r\n        }}\r\n      >\r\n        <Msg className=\"msg-display\">Hey i'm {renterUsername}!</Msg>\r\n        <img src={picture} alt=\"renter picture\" />\r\n      </Button>\r\n    </ChatWrapper>\r\n  );\r\n};\r\n\r\n// chat style\r\nconst ChatWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n`;\r\nconst ChatWindow = styled.div`\r\n  width: 290px;\r\n  height: 400px;\r\n  border: 1px solid #000;\r\n  background-color: #f5f5f3;\r\n  border-radius: 10px;\r\n  transition: all 0.5s ease;\r\n\r\n  border: 1px solid;\r\n  z-index: 99999;\r\n  position: relative;\r\n`;\r\n\r\nconst ChatDiv = styled.div`\r\n  height: 340px;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n\r\n  ::-webkit-scrollbar {\r\n    width: 8px;\r\n    height: 8px;\r\n  }\r\n\r\n  ::-webkit-scrollbar-thumb {\r\n    background: white;\r\n    border-radius: 50px;\r\n  }\r\n\r\n  ::-webkit-scrollbar-track {\r\n    background: #f5f0ed;\r\n    border-radius: 50px;\r\n    border-top-right-radius: 25px;\r\n    border-top-left-radius: 25px;\r\n  }\r\n`;\r\nconst MessageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 9px 10px;\r\n`;\r\n\r\nconst RightMsg = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  gap: 7px;\r\n  padding-top: 13px;\r\n`;\r\nconst LeftMsg = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n`;\r\n\r\nconst MsgDiv = styled.div`\r\n  /* max-height: 345px; */\r\n`;\r\nconst MsgEl = styled.div`\r\n  background-color: #fff;\r\n  width: fit-content;\r\n  border-radius: 25px;\r\n  padding: 10px 12px;\r\n  font-size: 15px;\r\n  font-weight: 400;\r\n`;\r\n\r\nconst WelcomMsgDiv = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  gap: 6px;\r\n  padding-top: 13px;\r\n`;\r\nconst WelcomeMsg = styled.div`\r\n  background-color: #fff;\r\n  width: 80%;\r\n  border-radius: 25px;\r\n  padding: 10px 12px;\r\n  font-size: 15px;\r\n  font-weight: 400;\r\n`;\r\nconst Img = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n`;\r\nconst Input = styled.textarea`\r\n  position: absolute;\r\n  bottom: 7px;\r\n  left: 5px;\r\n  padding-left: 9px;\r\n  padding-top: 10px;\r\n  width: 85%;\r\n  height: 40px;\r\n  outline: none;\r\n  border-radius: 25px;\r\n  border: 1px solid #000;\r\n  background-color: transparent;\r\n`;\r\n\r\nconst SendButton = styled.button`\r\n  position: absolute;\r\n  bottom: 7px;\r\n  right: 5px;\r\n  height: 40px;\r\n  width: 10%;\r\n  border-radius: 50%;\r\n  border: none;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.5s ease;\r\n  border: 1px solid;\r\n\r\n  :hover {\r\n    border: none;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .sendIcon {\r\n    font-size: 22px;\r\n    color: #242526;\r\n  }\r\n`;\r\nconst Msg = styled.div`\r\n  background: #000;\r\n  color: #f5f0ed;\r\n  padding: 7px 10px;\r\n  border-radius: 25px;\r\n  opacity: 0;\r\n  cursor: pointer;\r\n  transition: all 0.4s ease;\r\n  font-size: 15px;\r\n\r\n  :hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst Button = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 9px;\r\n  background-color: transparent;\r\n  border: none;\r\n  border-radius: 50%;\r\n  height: 80px;\r\n  cursor: pointer;\r\n  transition: all 0.33s ease;\r\n\r\n  :hover {\r\n    .msg-display {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  img {\r\n    width: 60px;\r\n    height: 60px;\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n\r\nexport default Chat;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { DateRange } from \"react-date-range\";\r\nimport format from \"date-fns/format\";\r\nimport { getDatesInRange } from \"../utils\";\r\nimport useClickOutside from \"../hooks/useClickOutside\";\r\n\r\nimport \"react-date-range/dist/styles.css\";\r\nimport \"react-date-range/dist/theme/default.css\";\r\n\r\nimport { BookingContext } from \"../context/BookingContext\";\r\nimport { useContext } from \"react\";\r\n\r\nconst Calendar = ({ reservations }) => {\r\n  const { dateRange, setDateRange } = useContext(BookingContext);\r\n\r\n  // open and close the calander\r\n  const [open, setOpen] = useState(false);\r\n\r\n  // custom hook to check and close if we click outside the calender\r\n  let ref = useClickOutside(() => {\r\n    setOpen(false);\r\n  });\r\n\r\n  // looping over the reservations array to get all days to disable\r\n  const allDisabledDates = reservations\r\n    .map((reservation) => {\r\n      const d1 = reservation.bookingDate[0].startDate.slice(0, 10);\r\n      const d2 = reservation.bookingDate[0].endDate.slice(0, 10);\r\n\r\n      const startDate = new Date(d1);\r\n      const endDate = new Date(d2);\r\n\r\n      let dates = getDatesInRange(startDate, endDate);\r\n\r\n      return dates;\r\n    })\r\n    .flat(1);\r\n\r\n  return (\r\n    <div>\r\n      <Input\r\n        value={`${format(dateRange[0].startDate, \"MM/dd/yyyy\")} to ${format(\r\n          dateRange[0].endDate,\r\n          \"MM/dd/yyyy\"\r\n        )}`}\r\n        readOnly\r\n        onClick={() => setOpen(!open)}\r\n      />\r\n\r\n      <CalenderWrapper ref={ref}>\r\n        {open && (\r\n          <DateRange\r\n            onChange={(date) => setDateRange([date.selection])}\r\n            ranges={dateRange}\r\n            editableDateInputs={true}\r\n            moveRangeOnFirstSelection={false}\r\n            months={1}\r\n            minDate={new Date()}\r\n            disabledDates={[...allDisabledDates]}\r\n            direction=\"horizontal\"\r\n            className=\"calender\"\r\n          />\r\n        )}\r\n      </CalenderWrapper>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Calander style\r\nconst Input = styled.input`\r\n  padding: 7px;\r\n  width: 90%;\r\n  font-size: 17px;\r\n  border-radius: 5px;\r\n  border: 1px solid;\r\n  outline: none;\r\n  color: #242526;\r\n`;\r\n\r\nconst CalenderWrapper = styled.div`\r\n  .calender {\r\n    width: 90%;\r\n  }\r\n`;\r\nexport default Calendar;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FaStar } from \"react-icons/fa\";\r\n\r\nconst Review = ({ review }) => {\r\n  // create an array of star depending on how many star review we have\r\n  const stars = Array(Number(review.rating)).fill(0);\r\n\r\n  return (\r\n    <ReviewContainer>\r\n      <Top>\r\n        <UserPicture>\r\n          <img src={review.clientPicture} alt=\"user Profile\" />\r\n        </UserPicture>\r\n        <ReviewInfo>\r\n          <ReviewInfoTop>\r\n            <h4>{review.clientUsername}</h4>\r\n            <p>{review.createdAt.slice(4, 15)}</p>\r\n          </ReviewInfoTop>\r\n\r\n          <ReviewStars>\r\n            {stars.map((_, index) => {\r\n              return <FaStar key={index} />;\r\n            })}\r\n          </ReviewStars>\r\n        </ReviewInfo>\r\n      </Top>\r\n      <ReviewSection>\r\n        <div>{review.review}</div>\r\n      </ReviewSection>\r\n    </ReviewContainer>\r\n  );\r\n};\r\n\r\n// review style\r\nconst ReviewContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-top: 1px solid #242526;\r\n  padding-top: 12px;\r\n  margin: 10px 0 25px 0;\r\n`;\r\nconst Top = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 7px;\r\n  padding-bottom: 12px;\r\n`;\r\nconst UserPicture = styled.div`\r\n  img {\r\n    width: 70px;\r\n    height: 70px;\r\n    border-radius: 50%;\r\n  }\r\n`;\r\nconst ReviewInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n`;\r\n\r\nconst ReviewStars = styled.div`\r\n  display: flex;\r\n  gap: 2px;\r\n`;\r\nconst ReviewInfoTop = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n\r\n  p {\r\n    font-size: 13px;\r\n  }\r\n`;\r\nconst ReviewSection = styled.div``;\r\nexport default Review;\r\n","import React, { useState, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FaStar } from \"react-icons/fa\";\r\nimport { Circles } from \"react-loader-spinner\";\r\nimport { useUser } from \"../hooks/useUser\";\r\n\r\nconst ReviewForm = ({ setReviews, currentUserId, listingId, reviews }) => {\r\n  // get user information from useUser hook\r\n  const user = useUser();\r\n\r\n  const [starHoverValue, setStarHoverValue] = useState(undefined);\r\n\r\n  const [userReview, setUserReview] = useState({\r\n    review: \"\",\r\n    clientUsername: user?.username,\r\n    clientId: currentUserId,\r\n    clientPicture: user?.picture,\r\n    listingId: listingId,\r\n    rating: 0,\r\n    createdAt: new Date(Date.now()).toString(),\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // function that handle the update of state and sending the data to our db\r\n  const createReviewHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n      // add the new review to our reviews state\r\n      setReviews([userReview, ...reviews]);\r\n\r\n      setUserReview((prev) => ({ ...prev, review: \"\", rating: 0 }));\r\n\r\n      // POST info to server\r\n      const requestOptions = {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(userReview),\r\n      };\r\n\r\n      // send the new review to our db\r\n      const sendNewReview = fetch(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/add-review`,\r\n        requestOptions\r\n      );\r\n\r\n      if (sendNewReview.ok) {\r\n        setLoading(false);\r\n      } else {\r\n        setLoading(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error.stack);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={createReviewHandler}>\r\n      <ReviewStars>\r\n        {Array(5)\r\n          .fill(0)\r\n          .map((_, index) => {\r\n            return (\r\n              <FaStar\r\n                key={index}\r\n                style={{\r\n                  cursor: \"pointer\",\r\n                }}\r\n                color={\r\n                  (starHoverValue || userReview.rating) > index\r\n                    ? \"#000\"\r\n                    : \"grey\"\r\n                }\r\n                value={userReview.rating}\r\n                name=\"rating\"\r\n                onClick={(e) =>\r\n                  setUserReview((prev) => ({\r\n                    ...prev,\r\n                    rating: index + 1,\r\n                  }))\r\n                }\r\n                onMouseOver={() => setStarHoverValue(index + 1)}\r\n                onMouseLeave={() => setStarHoverValue(undefined)}\r\n              />\r\n            );\r\n          })}\r\n      </ReviewStars>\r\n      <TextArea\r\n        value={userReview.review}\r\n        name=\"review\"\r\n        placeholder=\"Write your review here!\"\r\n        onChange={(e) =>\r\n          setUserReview((prev) => ({\r\n            ...prev,\r\n            [e.target.name]: e.target.value,\r\n          }))\r\n        }\r\n      />\r\n      <Button\r\n        type=\"submit\"\r\n        disabled={userReview.rating === 0 && userReview.review.trim() === \"\"}\r\n      >\r\n        {loading ? (\r\n          <Circles\r\n            height=\"30\"\r\n            width=\"30\"\r\n            color=\"#000\"\r\n            ariaLabel=\"circles-loading\"\r\n            wrapperClass=\"spinner\"\r\n            visible={true}\r\n          />\r\n        ) : (\r\n          \"Send Review\"\r\n        )}\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\n// form style\r\nconst Form = styled.form`\r\n  margin: 20px 0;\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  margin: 15px 0;\r\n  min-width: 100%;\r\n  max-width: 100%;\r\n  border-radius: 5px;\r\n  outline: none;\r\n  height: 70px;\r\n  padding: 9px;\r\n  font-size: 16px;\r\n`;\r\n\r\nconst ReviewStars = styled.div`\r\n  padding-left: 2px;\r\n  display: flex;\r\n  gap: 5px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 10px 25px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  background: transparent;\r\n  border: 1px solid;\r\n  border-radius: 5px;\r\n  transition: background 0.5s ease-in-out;\r\n\r\n  :hover {\r\n    background-color: #dadce1;\r\n  }\r\n`;\r\nexport default ReviewForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Review from \"./Review\";\r\nimport ReviewForm from \"./ReviewForm\";\r\nimport { useUser } from \"../hooks/useUser\";\r\n\r\nconst Reviews = ({ currentUserId, listingId, reviewsIds }) => {\r\n  // check if user is logged in if not he can see reviews but can't send one\r\n  const user = useUser();\r\n  // state to store all comment or reviews that we get from backend\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  // fetch the reviews on mount\r\n  useEffect(() => {\r\n    try {\r\n      // finction that handle the fetch of all reviews for this listing form our db\r\n      const getAllReviewsHandler = async () => {\r\n        // we check if there are reviews in this listing\r\n        if (reviewsIds.length > 0) {\r\n          // fetching all reviews form our db\r\n          const AllReviews = await fetch(\r\n            `${process.env.REACT_APP_BACKEND_URL}/api/reviews/listing/${listingId}`\r\n          );\r\n\r\n          if (AllReviews.ok) {\r\n            // parse the response data\r\n            const parsedAllReviews = await AllReviews.json();\r\n\r\n            if (parsedAllReviews.data.length > 0) {\r\n              // set the reviews state to the data received\r\n              setReviews(parsedAllReviews.data);\r\n            }\r\n          }\r\n        }\r\n      };\r\n      getAllReviewsHandler();\r\n    } catch (error) {\r\n      console.log(error.stack);\r\n    }\r\n  }, [listingId]);\r\n\r\n  return (\r\n    <>\r\n      <h2>Reviews</h2>\r\n      {user && (\r\n        <>\r\n          <h4>Your Review Is Important For Us</h4>\r\n          <ReviewForm\r\n            setReviews={setReviews}\r\n            reviews={reviews}\r\n            currentUserId={currentUserId}\r\n            listingId={listingId}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      <div>\r\n        {reviews &&\r\n          reviews.map((review) => {\r\n            return <Review key={review._id} review={review} />;\r\n          })}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport ImageSlider from \"../styleComponents/ImageSlider\";\r\nimport beachsurf from \"../../assets/beachsurf.jpg\";\r\nimport cyclists from \"../../assets/cyclists.jpg\";\r\nimport snow1 from \"../../assets/snow1.jpg\";\r\nimport surf1 from \"../../assets/surf1.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Calendar from \"../styleComponents/Calendar\";\r\nimport LoadingSpinner from \"../styleComponents/LoadingSpinner\";\r\nimport { scrollToTop } from \"../utils\";\r\nimport Chat from \"../chatSystem/Chat\";\r\nimport Reviews from \"../Reviews/Reviews\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\nimport { useUser } from \"../hooks/useUser\";\r\n\r\nconst Listing = () => {\r\n  // getting information from our chat context\r\n  const { openChat, setOpenChat } = useContext(ChatContext);\r\n\r\n  // get user information from useUser hook\r\n  const user = useUser();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [listing, setListing] = useState();\r\n  const [renter, setRenter] = useState();\r\n  const [reservations, setReservations] = useState();\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  // fetching data by listing id\r\n  useEffect(() => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      // function that handle the fetch from our database\r\n      const fechingLisitngDataHandler = async () => {\r\n        // fetching listing data by listing id\r\n        const fetchListingById = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/listings/listing/${id}`\r\n        );\r\n\r\n        // parse the response\r\n        const responseJson = await fetchListingById.json();\r\n\r\n        // fetch renter information by renter id\r\n        const fetchRenter = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/user/${responseJson?.data?.renterId}`\r\n        );\r\n\r\n        // parse the response\r\n        const responseJsonRenter = await fetchRenter.json();\r\n\r\n        // fetch all reservation for this specific listing\r\n        const fetchReservations = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/reservations/listing/${id}`\r\n        );\r\n\r\n        // parse the respone\r\n        const responseJsonReservation = await fetchReservations.json();\r\n\r\n        if (responseJson.data && responseJsonRenter.data) {\r\n          // update our states with the data received from the database\r\n          setListing(responseJson.data);\r\n\r\n          setRenter(responseJsonRenter.data);\r\n\r\n          setReservations(responseJsonReservation.data);\r\n\r\n          setLoading(false);\r\n        } else {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      fechingLisitngDataHandler();\r\n    } catch (error) {\r\n      console.log(error.stack);\r\n      setLoading(false);\r\n    }\r\n  }, [id]);\r\n\r\n  return (\r\n    <ListingPage>\r\n      <ListingContainer>\r\n        {loading ? (\r\n          <LoadingSpinner />\r\n        ) : (\r\n          <>\r\n            {listing && renter && !loading && (\r\n              <ListingWrapper>\r\n                <Banner>\r\n                  <BannerImg\r\n                    src={\r\n                      listing.category === \"surf\"\r\n                        ? beachsurf\r\n                        : listing.category === \"bike\"\r\n                        ? cyclists\r\n                        : listing.category === \"Snow\"\r\n                        ? snow1\r\n                        : surf1\r\n                    }\r\n                    alt=\"banner\"\r\n                  />\r\n                  <h2>{listing.name}</h2>\r\n                </Banner>\r\n                <Main>\r\n                  <LeftSide>\r\n                    <SliderContainer>\r\n                      <ImageSlider slides={listing.imageSrc} />\r\n                    </SliderContainer>\r\n                    <ListingDetails>\r\n                      <Description>\r\n                        <span>Description: </span>\r\n                        <p>{listing.description}</p>\r\n                      </Description>\r\n                      <Model>\r\n                        <span>Model: </span>\r\n                        {listing.model}\r\n                      </Model>\r\n                      <Size>\r\n                        <span>Size: </span>\r\n                        {listing.size}\r\n                      </Size>\r\n                      <Reviews\r\n                        currentUserId={user?._id}\r\n                        listingId={id}\r\n                        reviewsIds={listing.reviewsIds}\r\n                      />\r\n                    </ListingDetails>\r\n                  </LeftSide>\r\n                  <RightSide>\r\n                    <Price>\r\n                      <p>${listing.price}</p>\r\n                      <span>/Day</span>\r\n                    </Price>\r\n                    <BookingWrapper>\r\n                      <Calendar reservations={reservations} />\r\n                      <NavLink\r\n                        to={`/listing/${listing._id}/booking`}\r\n                        onClick={scrollToTop}\r\n                      >\r\n                        <BookingBtn>Book</BookingBtn>\r\n                      </NavLink>\r\n                    </BookingWrapper>\r\n                    <RenterContact>\r\n                      <NavLink to={`/renter/${renter._id}`} className=\"navlink\">\r\n                        <ProfileImg src={renter.picture} alt=\"renter picture\" />\r\n                      </NavLink>\r\n                      <ProfileContact>\r\n                        <NavLink\r\n                          to={`/renter/${renter._id}`}\r\n                          className=\"navlink\"\r\n                        >\r\n                          <Username>{renter.username}</Username>\r\n                        </NavLink>\r\n                        <Button\r\n                          onClick={() => {\r\n                            if (user) {\r\n                              setOpenChat(true);\r\n                            } else {\r\n                              navigate(\"/login\");\r\n                            }\r\n                          }}\r\n                        >\r\n                          Contact\r\n                        </Button>\r\n                      </ProfileContact>\r\n                    </RenterContact>\r\n                  </RightSide>\r\n                </Main>\r\n                {user && (\r\n                  <ChatWrapper>\r\n                    <Chat\r\n                      picture={renter.picture}\r\n                      renterUsername={renter.username}\r\n                      renterId={renter._id}\r\n                      openChat={openChat}\r\n                      setOpenChat={setOpenChat}\r\n                      currentUserName={user?.username}\r\n                      currentUserPicture={user?.picture}\r\n                      currentUserId={user?._id}\r\n                    />\r\n                  </ChatWrapper>\r\n                )}\r\n              </ListingWrapper>\r\n            )}\r\n          </>\r\n        )}\r\n      </ListingContainer>\r\n    </ListingPage>\r\n  );\r\n};\r\n\r\n// listing style\r\nconst ListingPage = styled.div`\r\n  min-height: 100vh;\r\n\r\n  position: relative;\r\n`;\r\n\r\nconst ListingContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n`;\r\n\r\nconst ListingWrapper = styled.div`\r\n  padding-bottom: 100px;\r\n`;\r\n\r\nconst ChatWrapper = styled.div`\r\n  position: fixed;\r\n  bottom: 24px;\r\n  right: 24px;\r\n`;\r\n\r\nconst Main = styled.div`\r\n  display: flex;\r\n  max-width: 1300px;\r\n  margin: 0 auto;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    flex-direction: column-reverse;\r\n    gap: 20px;\r\n  }\r\n`;\r\n\r\nconst Banner = styled.div`\r\n  height: 160px;\r\n  position: relative;\r\n\r\n  h2 {\r\n    position: absolute;\r\n    top: 50px;\r\n    left: 20px;\r\n    font-size: 35px;\r\n    font-weight: 900;\r\n    text-transform: capitalize;\r\n    color: #242526;\r\n  }\r\n`;\r\n\r\nconst BannerImg = styled.img`\r\n  height: 160px;\r\n  width: 100%;\r\n  object-fit: cover;\r\n  opacity: 0.7;\r\n`;\r\n\r\nconst SliderContainer = styled.div`\r\n  margin-top: 30px;\r\n  width: 85%;\r\n  height: 450px;\r\n  margin: 0 auto;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    height: 250px;\r\n  }\r\n`;\r\n\r\nconst LeftSide = styled.div`\r\n  flex: 0.7;\r\n  width: 80%;\r\n  margin: 30px auto 0 auto;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    margin: 30px auto 10px auto;\r\n  }\r\n`;\r\n\r\nconst RightSide = styled.div`\r\n  flex: 0.3;\r\n  margin: 30px auto 0 auto;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 40px;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst ListingDetails = styled.div`\r\n  margin: 30px auto;\r\n  width: 85%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n\r\n  span {\r\n    font-weight: 600;\r\n  }\r\n`;\r\n\r\nconst Description = styled.div`\r\n  p {\r\n    white-space: wrap;\r\n    overflow: hidden;\r\n  }\r\n`;\r\n\r\nconst Model = styled.div``;\r\nconst Size = styled.div``;\r\n\r\nconst Price = styled.div`\r\n  display: flex;\r\n  gap: 7px;\r\n\r\n  p {\r\n    font-size: 35px;\r\n    font-weight: 500;\r\n    color: #242526;\r\n  }\r\n\r\n  span {\r\n    padding-top: 3px;\r\n  }\r\n`;\r\n\r\nconst RenterContact = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  border-top: 1px solid;\r\n  width: 96%;\r\n  padding-top: 15px;\r\n  padding-left: 5px;\r\n\r\n  @media screen and (max-width: 700px) {\r\n    gap: 40px;\r\n  }\r\n`;\r\n\r\nconst ProfileImg = styled.img`\r\n  width: 150px;\r\n  height: 150px;\r\n  border-radius: 10px;\r\n\r\n  @media screen and (max-width: 1000px) {\r\n    width: 130px;\r\n    height: 130px;\r\n  }\r\n`;\r\n\r\nconst ProfileContact = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: space-between;\r\n  justify-content: space-between;\r\n  gap: 25px;\r\n\r\n  .navlink {\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst Username = styled.div`\r\n  font-size: 25px;\r\n  font-weight: 700;\r\n  color: #242526;\r\n  text-transform: capitalize;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 10px 25px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  background: transparent;\r\n  border: 1px solid;\r\n  transition: background 0.5s ease-in-out;\r\n\r\n  :hover {\r\n    background-color: #dadce1;\r\n  }\r\n\r\n  @media screen and (max-width: 700px) {\r\n    padding: 10px 35px;\r\n  }\r\n`;\r\n\r\nconst BookingWrapper = styled.div``;\r\n\r\nconst BookingBtn = styled.button`\r\n  width: 90%;\r\n  padding: 10px 20px;\r\n  font-size: 17px;\r\n  background: #000;\r\n  color: #f5f0ed;\r\n  border-radius: 5px;\r\n  transition: background 0.4s ease-in-out;\r\n  margin-top: 15px;\r\n  cursor: pointer;\r\n\r\n  :hover {\r\n    background: #f5f0ed;\r\n    color: #000;\r\n  }\r\n`;\r\n\r\nexport default Listing;\r\n","import { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { IoIosArrowForward, IoIosArrowBack } from \"react-icons/io\";\r\n\r\n// Image slider componenent\r\nconst ImageSlider = ({ slides }) => {\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n\r\n  // function that handle slide to the previous image\r\n  const goToPreviousHandler = () => {\r\n    if (currentIndex === 0) {\r\n      setCurrentIndex(slides.length - 1);\r\n    } else {\r\n      setCurrentIndex(currentIndex - 1);\r\n    }\r\n  };\r\n\r\n  // function that handle slide to the next image\r\n  const goToNextHandler = () => {\r\n    if (currentIndex === slides.length - 1) {\r\n      setCurrentIndex(0);\r\n    } else {\r\n      setCurrentIndex(currentIndex + 1);\r\n    }\r\n  };\r\n\r\n  // function that handle the slider dots to be able to go to the specific slide\r\n  const goToSlide = (slideIndex) => {\r\n    setCurrentIndex(slideIndex);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SliderStyles>\r\n        <LeftArrowStyles onClick={goToPreviousHandler}>\r\n          <IoIosArrowBack />\r\n        </LeftArrowStyles>\r\n        <RightArrowStyles onClick={goToNextHandler}>\r\n          <IoIosArrowForward />\r\n        </RightArrowStyles>\r\n        <SlideStyle\r\n          style={{ backgroundImage: `url(${slides[currentIndex]})` }}\r\n        ></SlideStyle>\r\n        <DotContainer>\r\n          {slides.map((slide, slideIndex) => {\r\n            return (\r\n              <Dot key={slideIndex} onClick={() => goToSlide(slideIndex)}>\r\n                ◦\r\n              </Dot>\r\n            );\r\n          })}\r\n        </DotContainer>\r\n      </SliderStyles>\r\n    </>\r\n  );\r\n};\r\n\r\n// image slider style\r\nconst SliderStyles = styled.div`\r\n  height: 100%;\r\n  position: relative;\r\n`;\r\n\r\nconst SlideStyle = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 25px;\r\n  background-position: center;\r\n  background-size: cover;\r\n`;\r\n\r\nconst LeftArrowStyles = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translate(0, -50%);\r\n  left: 17px;\r\n  font-size: 45px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst RightArrowStyles = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translate(0, -50%);\r\n  right: 17px;\r\n  font-size: 45px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst DotContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 99%;\r\n  left: 50%;\r\n  transform: translate(-50%, -99%);\r\n`;\r\n\r\nconst Dot = styled.div`\r\n  margin: 0 7px;\r\n  cursor: pointer;\r\n  font-size: 50px;\r\n  color: #f5f0ed;\r\n`;\r\nexport default ImageSlider;\r\n"],"names":["ChatWrapper","styled","ChatWindow","ChatDiv","MessageWrapper","RightMsg","LeftMsg","MsgDiv","MsgEl","WelcomMsgDiv","WelcomeMsg","Img","Input","SendButton","Msg","Button","picture","renterUsername","openChat","setOpenChat","currentUserName","currentUserPicture","currentUserId","renterId","useState","welcomeMsg","setWelcomeMsg","useContext","ChatContext","currentChatMembers","setCurrentChatMembers","message","setMessage","chatConversation","setChatConversation","notification","setNotification","socket","scrollToBottomRef","useRef","effectRanOnce","useEffect","current","createNewConversationHandler","requestOptions","method","headers","body","JSON","stringify","senderId","receiverId","createAt","Date","now","fetch","process","response","json","parseResponse","status","data","console","log","stack","fechingConversationHandler","fetchConversationByUserId","responseJson","length","findConversation","find","conversation","members","error","emit","on","chatMessagesHandler","_id","includes","sendToId","sendMessageHandler","e","preventDefault","messageinfo","conversationId","text","ok","ref","useClickOutside","scrollIntoView","behavior","src","alt","map","msg","index","onSubmit","value","placeholder","onChange","target","onKeyDown","key","type","className","onClick","CalenderWrapper","reservations","BookingContext","dateRange","setDateRange","open","setOpen","allDisabledDates","reservation","d1","bookingDate","startDate","slice","d2","endDate","getDatesInRange","flat","format","readOnly","date","selection","ranges","editableDateInputs","moveRangeOnFirstSelection","months","minDate","disabledDates","direction","ReviewContainer","Top","UserPicture","ReviewInfo","ReviewStars","ReviewInfoTop","ReviewSection","review","stars","Array","Number","rating","fill","clientPicture","clientUsername","createdAt","_","Form","TextArea","setReviews","listingId","reviews","user","useUser","undefined","starHoverValue","setStarHoverValue","username","clientId","toString","userReview","setUserReview","loading","setLoading","createReviewHandler","prev","style","cursor","color","name","onMouseOver","onMouseLeave","disabled","trim","height","width","ariaLabel","wrapperClass","visible","reviewsIds","getAllReviewsHandler","AllReviews","parsedAllReviews","ListingPage","ListingContainer","ListingWrapper","Main","Banner","BannerImg","SliderContainer","LeftSide","RightSide","ListingDetails","Description","Model","Size","Price","RenterContact","ProfileImg","ProfileContact","Username","BookingWrapper","BookingBtn","listing","setListing","renter","setRenter","setReservations","id","useParams","navigate","useNavigate","fechingLisitngDataHandler","fetchListingById","fetchRenter","responseJsonRenter","fetchReservations","responseJsonReservation","LoadingSpinner","category","beachsurf","cyclists","snow1","surf1","ImageSlider","slides","imageSrc","description","model","size","price","to","scrollToTop","Chat","SliderStyles","SlideStyle","LeftArrowStyles","RightArrowStyles","DotContainer","Dot","currentIndex","setCurrentIndex","backgroundImage","slide","slideIndex","goToSlide"],"sourceRoot":""}